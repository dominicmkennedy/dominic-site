generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url = env("POSTGRES_PRISMA_URL")
  directUrl = env("POSTGRES_URL_NON_POOLING")
}


model Album {
  mbid         String    @id // @db.VarChar(36)
  name         String    // @db.VarChar(255)
  credits      String    // @db.VarChar(1023)
  duration     Int
  releaseDate  DateTime  // @db.Date
  trackLenMean Float
  trackLenStd  Float
  coverArtUrl  String
  reviewTextMd String    @default("# Review forthcoming\nCheck back next Monday!")
  dominicScore Int?
  currentElo   Int?
  reviewDate   DateTime? // @db.Date
  tracks       Track[]
  betterThan   Album[]   @relation("comp")
  worseThan    Album[]   @relation("comp")
}

model Track {
  mbid          String @id // @db.VarChar(36)
  album         Album  @relation(fields: [albumId], references: [mbid])
  albumId       String // @db.VarChar(36)
  name          String // @db.VarChar(255)
  credits       String // @db.VarChar(1023)
  trackNumber   Int
  duration      Int
  zScore        Float
  trackRank     Int?
  trackScore    Int?
}
